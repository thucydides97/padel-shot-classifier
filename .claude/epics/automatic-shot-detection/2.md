---
name: Extract signal calculation utilities
status: closed
created: 2025-11-22T21:39:47Z
updated: 2025-11-22T21:39:47Z
github: [Will be updated when synced to GitHub]
depends_on: []
parallel: true
conflicts_with: []
---

# Task: Extract signal calculation utilities

## Description
Extract and refactor wrist height, wrist velocity, and elbow angle calculation functions from feature_calculator.py into reusable utilities. Create a shared module or clearly expose these functions for use by the new shot_detector.py module.

## Acceptance Criteria
- [ ] Wrist-shoulder height ratio calculation is extracted and reusable
- [ ] Wrist velocity calculation is extracted and reusable
- [ ] Elbow angle calculation is extracted and reusable
- [ ] Functions work with raw pose data (frame-by-frame)
- [ ] Unit tests for each extracted function
- [ ] feature_calculator.py still works after refactoring

## Technical Details
- Review feature_calculator.py for existing signal calculations
- Create utility functions that take pose landmarks and return signals
- Functions should return numpy arrays for time-series processing
- Handle missing/invalid pose data gracefully (return NaN)

**Files affected:**
- src/padel_shot_classifier/feature_calculator.py (refactor)
- src/padel_shot_classifier/signal_utils.py (new, optional)

## Dependencies
- [ ] None - this is foundational

## Effort Estimate
- Size: S
- Hours: 3-4
- Parallel: true

## Definition of Done
- [ ] Signal calculation functions are reusable
- [ ] Existing feature_calculator tests pass
- [ ] New unit tests for signal utilities
- [ ] Documentation strings added
