---
name: Add CLI interface and progress display
status: open
created: 2025-11-22T21:39:47Z
updated: 2025-11-22T21:39:47Z
github: [Will be updated when synced to GitHub]
depends_on: [005]
parallel: false
conflicts_with: []
---

# Task: Add CLI interface and progress display

## Description
Create command-line interface for the shot detector following existing module patterns, with progress display during processing and configurable parameters.

## Acceptance Criteria
- [ ] Run as: `python -m padel_shot_classifier.shot_detector --video data/video.mp4`
- [ ] Output file defaults to shots.csv in video directory
- [ ] Progress bar during pose extraction and detection
- [ ] Configurable threshold, output path, minimal format
- [ ] Summary output showing detected shots count
- [ ] Error messages for common issues (file not found, etc.)

## Technical Details
**CLI arguments:**
```python
parser = argparse.ArgumentParser()
parser.add_argument('--video', required=True, help='Input video path')
parser.add_argument('--output', default=None, help='Output CSV path')
parser.add_argument('--poses', default=None, help='Pre-extracted poses JSON')
parser.add_argument('--threshold', type=float, default=0.7, help='Confidence threshold')
parser.add_argument('--minimal', action='store_true', help='Output minimal CSV')
```

**Progress display:**
```
Extracting poses: 100%|████████████| 1800/1800 [01:23<00:00, 21.5fps]
Detecting shots: 100%|████████████| 1800/1800 [00:05<00:00, 360fps]

Detected 12 shots:
  - 8 high confidence (>0.7)
  - 4 flagged for review

Output saved to: shots.csv
```

**Files affected:**
- src/padel_shot_classifier/shot_detector.py

## Dependencies
- [ ] Task 005 - CSV output generation

## Effort Estimate
- Size: S
- Hours: 2-3
- Parallel: false

## Definition of Done
- [ ] CLI interface works end-to-end
- [ ] Progress bars display correctly
- [ ] All arguments documented in --help
- [ ] Error handling for common issues
